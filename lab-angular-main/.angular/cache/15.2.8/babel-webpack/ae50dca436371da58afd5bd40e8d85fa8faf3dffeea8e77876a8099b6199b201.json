{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/data.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/core/auth.service\";\nimport * as i5 from \"@angular/common\";\nfunction AddProductComponent_option_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r2);\n  }\n}\nfunction AddProductComponent_p_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nexport class AddProductComponent {\n  constructor(fb, dataService, router, authService) {\n    this.fb = fb;\n    this.dataService = dataService;\n    this.router = router;\n    this.authService = authService;\n    this.errorMessage = null;\n    this.categories = ['Electronics', 'Clothing', 'Books', 'SkinCare', 'Health', 'Sports', 'Stationary'];\n    this.userRole = 'user';\n    this.addProductForm = this.fb.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      manufacturer: ['', Validators.required],\n      manufacturingDate: ['', Validators.required],\n      price: [0, [Validators.required, Validators.min(1), Validators.max(10000)]],\n      quantity: [0, [Validators.required, Validators.min(0)]],\n      category: ['', Validators.required],\n      supplierName: [''],\n      supplierContact: ['']\n    });\n    // Ensure userRole is updated when the component loads\n    this.userRole = this.authService.getUserRole() || 'user'; // Fallback to 'user' if undefined\n  }\n\n  onSubmit() {\n    if (this.addProductForm.valid) {\n      if (this.userRole === 'user') {\n        alert('Only admin have the access');\n        return;\n      }\n      const pin = prompt('Enter admin pin (4 digits):');\n      if (pin && this.authService.verifyAdminPin(pin)) {\n        const product = {\n          name: this.addProductForm.get('name')?.value,\n          description: this.addProductForm.get('description')?.value,\n          manufacturer: this.addProductForm.get('manufacturer')?.value,\n          manufacturingDate: this.addProductForm.get('manufacturingDate')?.value,\n          price: this.addProductForm.get('price')?.value,\n          quantity: this.addProductForm.get('quantity')?.value,\n          category: this.addProductForm.get('category')?.value,\n          supplier: {\n            name: this.addProductForm.get('supplierName')?.value,\n            contact: this.addProductForm.get('supplierContact')?.value\n          }\n        };\n        this.dataService.addProduct(product).subscribe({\n          next: () => {\n            alert('Product added successfully');\n            this.router.navigate(['/inventory']);\n          },\n          error: err => this.errorMessage = err.message\n        });\n      } else {\n        alert('Invalid admin pin.');\n      }\n    } else {\n      this.errorMessage = 'Please fill all fields correctly.';\n    }\n  }\n}\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AuthService));\n};\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  decls: 47,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"card\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description\"], [\"for\", \"manufacturer\"], [\"type\", \"text\", \"id\", \"manufacturer\", \"formControlName\", \"manufacturer\"], [\"for\", \"manufacturingDate\"], [\"type\", \"date\", \"id\", \"manufacturingDate\", \"formControlName\", \"manufacturingDate\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"formControlName\", \"price\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"formControlName\", \"quantity\"], [\"for\", \"category\"], [\"id\", \"category\", \"formControlName\", \"category\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"supplierName\"], [\"id\", \"supplierName\", \"formControlName\", \"supplierName\", \"placeholder\", \"Supplier Name\"], [\"for\", \"supplierContact\"], [\"id\", \"supplierContact\", \"formControlName\", \"supplierContact\", \"placeholder\", \"Supplier Contact\"], [\"type\", \"submit\", 3, \"disabled\"], [\"class\", \"error-message\", 4, \"ngIf\"], [3, \"value\"], [1, \"error-message\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Add Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\", 8);\n      i0.ɵɵtext(15, \"Manufacturer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\", 10);\n      i0.ɵɵtext(19, \"Manufacturing Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 3)(22, \"label\", 12);\n      i0.ɵɵtext(23, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 3)(26, \"label\", 14);\n      i0.ɵɵtext(27, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 3)(30, \"label\", 16);\n      i0.ɵɵtext(31, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"select\", 17)(33, \"option\", 18);\n      i0.ɵɵtext(34, \"Select Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(35, AddProductComponent_option_35_Template, 2, 2, \"option\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"div\")(37, \"label\", 20);\n      i0.ɵɵtext(38, \"Supplier Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"input\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\")(41, \"label\", 22);\n      i0.ɵɵtext(42, \"Supplier Contact:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"input\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"button\", 24);\n      i0.ɵɵtext(45, \"Add Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(46, AddProductComponent_p_46_Template, 2, 1, \"p\", 25);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.addProductForm);\n      i0.ɵɵadvance(31);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"disabled\", ctx.addProductForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    height: 100vh;\\r\\n    background-color: #f0f0f0;\\r\\n  }\\r\\n  \\r\\n  .card[_ngcontent-%COMP%] {\\r\\n    background-color: #f9f9f9;\\r\\n    padding: 20px;\\r\\n    border-radius: 8px;\\r\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\r\\n    width: 100%;\\r\\n    max-width: 400px;\\r\\n    text-align: center;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 15px;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-bottom: 5px;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 8px;\\r\\n    border: 1px solid #ddd;\\r\\n    border-radius: 4px;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%] {\\r\\n    background-color: #4CAF50;\\r\\n    color: white;\\r\\n    padding: 10px;\\r\\n    border: none;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%]:disabled {\\r\\n    background-color: #cccccc;\\r\\n    cursor: not-allowed;\\r\\n  }\\r\\n  \\r\\n  .error-message[_ngcontent-%COMP%] {\\r\\n    color: #ff0000;\\r\\n    margin-top: 10px;\\r\\n    font-size: 14px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvaW52ZW50b3J5L2FkZC1wcm9kdWN0L2FkZC1wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsdUNBQXVDO0lBQ3ZDLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGtCQUFrQjtFQUNwQjs7RUFFQTs7SUFFRSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixlQUFlO0VBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXJkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1ncm91cCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1ncm91cCBsYWJlbCB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tZ3JvdXAgaW5wdXQsXHJcbiAgLmZvcm0tZ3JvdXAgc2VsZWN0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICB9XHJcbiAgXHJcbiAgYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICB9XHJcbiAgXHJcbiAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6ICNmZjAwMDA7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","AddProductComponent","constructor","fb","dataService","router","authService","addProductForm","group","name","required","description","manufacturer","manufacturingDate","price","min","max","quantity","category","supplierName","supplierContact","userRole","getUserRole","onSubmit","valid","alert","pin","prompt","verifyAdminPin","product","get","value","supplier","contact","addProduct","subscribe","next","navigate","error","err","errorMessage","message","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\malik\\Downloads\\Angular Capstone Project\\lab-angular-main\\src\\app\\features\\inventory\\add-product\\add-product.component.ts","C:\\Users\\malik\\Downloads\\Angular Capstone Project\\lab-angular-main\\src\\app\\features\\inventory\\add-product\\add-product.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { DataService } from 'src/app/core/data.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from 'src/app/core/auth.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent {\n  addProductForm: FormGroup;\n  errorMessage: string | null = null;\n  categories: string[] = ['Electronics', 'Clothing', 'Books', 'SkinCare', 'Health', 'Sports', 'Stationary'];\n  userRole: string = 'user';\n\n  constructor(private fb: FormBuilder, private dataService: DataService, private router: Router, private authService: AuthService) {\n    this.addProductForm = this.fb.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      manufacturer: ['', Validators.required],\n      manufacturingDate: ['', Validators.required],\n      price: [0, [Validators.required, Validators.min(1), Validators.max(10000)]],\n      quantity: [0, [Validators.required, Validators.min(0)]],\n      category: ['', Validators.required],\n      supplierName: [''],\n      supplierContact: ['']\n    });\n    // Ensure userRole is updated when the component loads\n    this.userRole = this.authService.getUserRole() || 'user'; // Fallback to 'user' if undefined\n  }\n\n  onSubmit(): void {\n    if (this.addProductForm.valid) {\n      if (this.userRole === 'user') {\n        alert('Only admin have the access');\n        return;\n      }\n      const pin = prompt('Enter admin pin (4 digits):');\n      if (pin && this.authService.verifyAdminPin(pin)) {\n        const product = {\n          name: this.addProductForm.get('name')?.value,\n          description: this.addProductForm.get('description')?.value,\n          manufacturer: this.addProductForm.get('manufacturer')?.value,\n          manufacturingDate: this.addProductForm.get('manufacturingDate')?.value,\n          price: this.addProductForm.get('price')?.value,\n          quantity: this.addProductForm.get('quantity')?.value,\n          category: this.addProductForm.get('category')?.value,\n          supplier: {\n            name: this.addProductForm.get('supplierName')?.value,\n            contact: this.addProductForm.get('supplierContact')?.value\n          }\n        };\n        this.dataService.addProduct(product).subscribe({\n          next: () => {\n            alert('Product added successfully');\n            this.router.navigate(['/inventory']);\n          },\n          error: (err) => this.errorMessage = err.message\n        });\n      } else {\n        alert('Invalid admin pin.');\n      }\n    } else {\n      this.errorMessage = 'Please fill all fields correctly.';\n    }\n  }\n}","<div class=\"container\">\r\n  <div class=\"card\">\r\n    <h2>Add Product</h2>\r\n    <form [formGroup]=\"addProductForm\" (ngSubmit)=\"onSubmit()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" formControlName=\"name\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\" formControlName=\"description\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"manufacturer\">Manufacturer</label>\r\n        <input type=\"text\" id=\"manufacturer\" formControlName=\"manufacturer\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"manufacturingDate\">Manufacturing Date</label>\r\n        <input type=\"date\" id=\"manufacturingDate\" formControlName=\"manufacturingDate\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"price\">Price</label>\r\n        <input type=\"number\" id=\"price\" formControlName=\"price\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"quantity\">Quantity</label>\r\n        <input type=\"number\" id=\"quantity\" formControlName=\"quantity\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"category\">Category</label>\r\n        <select id=\"category\" formControlName=\"category\">\r\n          <option value=\"\">Select Category</option>\r\n          <option *ngFor=\"let category of categories\" [value]=\"category\">{{ category }}</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label for=\"supplierName\">Supplier Name:</label>\r\n        <input id=\"supplierName\" formControlName=\"supplierName\" placeholder=\"Supplier Name\" />\r\n      </div>\r\n      <div>\r\n        <label for=\"supplierContact\">Supplier Contact:</label>\r\n        <input id=\"supplierContact\" formControlName=\"supplierContact\" placeholder=\"Supplier Contact\" />\r\n      </div>\r\n      <button type=\"submit\" [disabled]=\"addProductForm.invalid\">Add Product</button>\r\n      <p *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n    </form>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}