{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/data.service\";\nimport * as i2 from \"src/app/core/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/search-filter/search-filter.component\";\nfunction ProductListComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_tr_19_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.viewProduct(product_r1.id));\n    });\n    i0.ɵɵtext(9, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_tr_19_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editProduct(product_r1.id));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_tr_19_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteProduct(product_r1.id));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.quantity);\n  }\n}\nexport class ProductListComponent {\n  constructor(dataService, authService, router) {\n    this.dataService = dataService;\n    this.authService = authService;\n    this.router = router;\n    this.searchTerm = '';\n    this.filteredProducts = [];\n    this.products = [];\n    this.categories = ['Electronics', 'Clothing', 'Books'];\n    this.selectedCategory = '';\n    this.stockAlerts = [];\n    this.lowStockThreshold = 5;\n    this.errorMessage = null;\n    this.activeTime = 0;\n  }\n  ngOnInit() {\n    this.loadProducts();\n    this.loadActiveTime();\n  }\n  loadProducts() {\n    this.dataService.getProducts().subscribe({\n      next: products => {\n        this.products = products;\n        this.applyFilters();\n      },\n      error: err => this.errorMessage = err.message\n    });\n  }\n  loadActiveTime() {\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    this.activeTime = user.activeTime || 0;\n  }\n  applyFilters() {\n    let tempProducts = [...this.products];\n    if (this.selectedCategory) {\n      tempProducts = tempProducts.filter(product => product.category === this.selectedCategory);\n    }\n    if (this.searchTerm) {\n      tempProducts = tempProducts.filter(product => product.name.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n    this.filteredProducts = tempProducts;\n    this.checkStockAlerts();\n  }\n  onSearch(event) {\n    this.searchTerm = event;\n    this.applyFilters();\n  }\n  onCategoryChange(category) {\n    this.selectedCategory = category;\n    this.applyFilters();\n  }\n  viewProduct(id) {\n    this.router.navigate([`/inventory/view/${id}`]);\n  }\n  editProduct(id) {\n    const pin = prompt('Enter admin pin (4 digits):');\n    if (pin && this.authService.verifyAdminPin(pin)) {\n      this.router.navigate([`/inventory/edit/${id}`]);\n    } else {\n      alert('Invalid admin pin. Only admins can edit.');\n    }\n  }\n  deleteProduct(productId) {\n    const pin = prompt('Enter admin pin (4 digits):');\n    if (pin && this.authService.verifyAdminPin(pin)) {\n      this.dataService.deleteProduct(productId).subscribe({\n        next: () => this.loadProducts(),\n        error: err => this.errorMessage = err.message\n      });\n    } else {\n      alert('Invalid admin pin. Only admins can delete.');\n    }\n  }\n  checkStockAlerts() {\n    this.stockAlerts = [];\n    this.products.forEach(product => {\n      if (product.quantity < this.lowStockThreshold) {\n        this.stockAlerts.push(`${product.name} is low in stock (${product.quantity} units remaining)`);\n      }\n    });\n    if (this.stockAlerts.length > 0) {\n      alert(this.stockAlerts.join('\\n'));\n    }\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 20,\n  vars: 1,\n  consts: [[1, \"inventory-container\"], [1, \"search-add-container\"], [3, \"search\"], [\"routerLink\", \"/inventory/add-product\", 1, \"add-button\"], [1, \"product-table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Product List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"app-search-filter\", 2);\n      i0.ɵɵlistener(\"search\", function ProductListComponent_Template_app_search_filter_search_4_listener($event) {\n        return ctx.onSearch($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"a\", 3);\n      i0.ɵɵtext(6, \"Add Product\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"table\", 4)(8, \"thead\")(9, \"tr\")(10, \"th\");\n      i0.ɵɵtext(11, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"tbody\");\n      i0.ɵɵtemplate(19, ProductListComponent_tr_19_Template, 14, 3, \"tr\", 5);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredProducts);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.RouterLink, i5.SearchFilterComponent],\n  styles: [\".inventory-container[_ngcontent-%COMP%] {\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.search-add-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.product-table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n    padding: 10px;\\r\\n    text-align: left;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n}\\r\\n\\r\\n.add-button[_ngcontent-%COMP%] {\\r\\n    background-color: #4CAF50;\\r\\n    color: white;\\r\\n    padding: 8px 16px;\\r\\n    border: none;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    text-decoration: none;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.add-button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #45a049;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvaW52ZW50b3J5L3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3QiIsInNvdXJjZXNDb250ZW50IjpbIi5pbnZlbnRvcnktY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5zZWFyY2gtYWRkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbi5wcm9kdWN0LXRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbn1cclxuXHJcbnRoLCB0ZCB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcblxyXG4uYWRkLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5hZGQtYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductListComponent","constructor","dataService","authService","router","ngOnInit","loadProducts","loadActiveTime","getProducts","subscribe","next","products","applyFilters","error","err","errorMessage","message","user","JSON","parse","localStorage","getItem","activeTime","tempProducts","selectedCategory","filter","product","category","searchTerm","name","toLowerCase","includes","filteredProducts","checkStockAlerts","onSearch","event","onCategoryChange","viewProduct","id","navigate","editProduct","pin","prompt","verifyAdminPin","alert","deleteProduct","productId","stockAlerts","forEach","quantity","lowStockThreshold","push","length","join","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\malik\\Downloads\\Evaluation\\lab-angular-main\\src\\app\\features\\inventory\\product-list\\product-list.component.html","C:\\Users\\malik\\Downloads\\Evaluation\\lab-angular-main\\src\\app\\features\\inventory\\product-list\\product-list.component.ts"],"sourcesContent":["<div class=\"inventory-container\">\r\n    <h2>Product List</h2>\r\n    <div class=\"search-add-container\">\r\n        <app-search-filter (search)=\"onSearch($event)\"></app-search-filter>\r\n        <a routerLink=\"/inventory/add-product\" class=\"add-button\">Add Product</a>\r\n    </div>\r\n    <table class=\"product-table\">\r\n        <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n                <th>Quantity</th>\r\n                <th>Actions</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let product of filteredProducts\">\r\n                <td>{{ product.name }}</td>\r\n                <td>{{ product.price }}</td>\r\n                <td>{{ product.quantity }}</td>\r\n                <td>\r\n                    <button (click)=\"viewProduct(product.id)\">View</button>\r\n                    <button (click)=\"editProduct(product.id)\">Edit</button>\r\n                    <button (click)=\"deleteProduct(product.id)\">Delete</button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/core/auth.service';\nimport { DataService } from 'src/app/core/data.service';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent implements OnInit {\n  searchTerm: string = '';\n  filteredProducts: any[] = [];\n  products: any[] = [];\n  categories: string[] = ['Electronics', 'Clothing', 'Books'];\n  selectedCategory: string = '';\n  stockAlerts: string[] = [];\n  lowStockThreshold: number = 5;\n  errorMessage: string | null = null;\n  activeTime: number = 0;\n\n  constructor(private dataService: DataService, private authService: AuthService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadProducts();\n    this.loadActiveTime();\n  }\n\n  loadProducts() {\n    this.dataService.getProducts().subscribe({\n      next: (products) => {\n        this.products = products;\n        this.applyFilters();\n      },\n      error: (err) => this.errorMessage = err.message\n    });\n  }\n\n  loadActiveTime() {\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    this.activeTime = user.activeTime || 0;\n  }\n\n  applyFilters() {\n    let tempProducts = [...this.products];\n    if (this.selectedCategory) {\n      tempProducts = tempProducts.filter(product => product.category === this.selectedCategory);\n    }\n    if (this.searchTerm) {\n      tempProducts = tempProducts.filter(product =>\n        product.name.toLowerCase().includes(this.searchTerm.toLowerCase())\n      );\n    }\n    this.filteredProducts = tempProducts;\n    this.checkStockAlerts();\n  }\n\n  onSearch(event: string) {\n    this.searchTerm = event;\n    this.applyFilters();\n  }\n\n  onCategoryChange(category: string) {\n    this.selectedCategory = category;\n    this.applyFilters();\n  }\n\n  viewProduct(id: number) {\n    this.router.navigate([`/inventory/view/${id}`]);\n  }\n\n  editProduct(id: number) {\n    const pin = prompt('Enter admin pin (4 digits):');\n    if (pin && this.authService.verifyAdminPin(pin)) {\n      this.router.navigate([`/inventory/edit/${id}`]);\n    } else {\n      alert('Invalid admin pin. Only admins can edit.');\n    }\n  }\n\n  deleteProduct(productId: number) {\n    const pin = prompt('Enter admin pin (4 digits):');\n    if (pin && this.authService.verifyAdminPin(pin)) {\n      this.dataService.deleteProduct(productId).subscribe({\n        next: () => this.loadProducts(),\n        error: (err) => this.errorMessage = err.message\n      });\n    } else {\n      alert('Invalid admin pin. Only admins can delete.');\n    }\n  }\n\n  checkStockAlerts() {\n    this.stockAlerts = [];\n    this.products.forEach(product => {\n      if (product.quantity < this.lowStockThreshold) {\n        this.stockAlerts.push(`${product.name} is low in stock (${product.quantity} units remaining)`);\n      }\n    });\n    if (this.stockAlerts.length > 0) {\n      alert(this.stockAlerts.join('\\n'));\n    }\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}